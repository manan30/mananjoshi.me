---
import Project from '../components/Project.astro';
import BaseLayout from '../layouts/BaseLayout.astro';
import { getProfileData, getProjectsData } from '../services/contentful';

const { fields: profileData } = await getProfileData();
const projectsData = await getProjectsData();
---

<BaseLayout title='Home | Manan Joshi'>
  <div
    class='flex flex-col-reverse justify-start md:flex-row md:items-center mt-16'
  >
    <section class='w-full flex flex-col space-y-2 md:w-[70%] md:mr-4'>
      <h1 class='text-primary-light font-semibold text-3xl md:text-5xl'>
        Manan Joshi
      </h1>
      <h3 class='text-slate-400 text-xs md:text-sm'>
        {profileData.titleAndCompany}
      </h3>
    </section>
    <img
      class='rounded-full bg-gray-800 h-24 w-24 md:h-32 md:w-32 mb-4 md:mb-0'
      alt={profileData.picture.fields.title}
      src={profileData.picture.fields.file.url}
    />
  </div>

  <p class='!mt-6 text-gray-400 text-sm md:text-base'>{profileData.bio}</p>

  <section class='mt-12'>
    <h3 class='text-primary-light font-semibold text-xl md:text-3xl'>
      Recent Projects
    </h3>
    <div class='grid grid-cols-3 gap-6 mt-4'>
      {projectsData.map((project) => <Project {...project.fields} />)}
    </div>
  </section>
</BaseLayout>
